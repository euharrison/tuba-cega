<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="manifest" href="manifest.json" />
    <title>Tuba Cega</title>
    <style>
      body {
        font-family: Helvetica, Arial, sans-serif;
        margin: 30px;
      }

      button {
        font-family: inherit;
      }

      #buttons {
        padding-top: 80px;
      }

      #buttons button {
        width: calc(25% - 6px);
        height: 60px;
        margin: 3px;
        border: none;
        background-color: #eee;
        font-size: 20px;
      }

      #play {
        position: fixed;
        width: calc(100vw - 60px);
        height: 60px;
        border: none;
        background-color: #222;
        color: #fff;
      }
    </style>
  </head>
  <body>
    <button id="play">Play</button>

    <div id="buttons"></div>
    <div id="audios"></div>

    <p>
      Obrigado ao site
      <a href="https://midi.city/">https://midi.city/</a> pelos áudios.
    </p>

    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script>
      const data = [
        { audioId: "28", color: "", note: "E" },
        { audioId: "29", color: "", note: "F" },
        { audioId: "30", color: "", note: "G♭" },
        { audioId: "31", color: "", note: "G" },
        { audioId: "32", color: "", note: "A♭" },
        { audioId: "33", color: "", note: "A" },
        { audioId: "34", color: "#ccc", note: "B♭" },
        { audioId: "35", color: "", note: "B" },
        { audioId: "36", color: "", note: "C" },
        { audioId: "37", color: "", note: "D♭" },
        { audioId: "38", color: "", note: "D" },
        { audioId: "39", color: "", note: "E♭" },
        { audioId: "40", color: "", note: "E" },
        { audioId: "41", color: "#ccc", note: "F" },
        { audioId: "42", color: "", note: "G♭" },
        { audioId: "43", color: "", note: "G" },
        { audioId: "44", color: "", note: "A♭" },
        { audioId: "45", color: "", note: "A" },
        { audioId: "46", color: "#ccc", note: "B♭" },
        { audioId: "47", color: "", note: "B" },
        { audioId: "48", color: "", note: "C" },
        { audioId: "49", color: "", note: "D♭" },
        { audioId: "50", color: "#ccc", note: "D" },
        { audioId: "51", color: "", note: "E♭" },
        { audioId: "52", color: "", note: "E" },
        { audioId: "53", color: "#ccc", note: "F" }
      ].reverse();

      for (let i = 0; i < data.length; i++) {
        $("#buttons").append(
          `<button data-index="${i}" style="background-color:${data[i].color}">${data[i].note}</button>`
        );

        $("#audios").append(
          `<audio
            data-index="${i}"
            src="https://cdn.midi.city/sound-font-assets/Compifont_01032016/0-58/${data[i].audioId}.ogg"
          ></audio>`
        );
      }

      $("#buttons button").on("mousedown", e => {
        const index = e.currentTarget.dataset.index;
        const audio = $("#audios audio").eq(index)[0];
        audio.currentTime = 0;
        audio.play();
      });

      $("#buttons button").on("mouseup", e => {
        const index = e.currentTarget.dataset.index;
        const audio = $("#audios audio").eq(index)[0];
        audio.pause();
      });
    </script>
  </body>
</html>
